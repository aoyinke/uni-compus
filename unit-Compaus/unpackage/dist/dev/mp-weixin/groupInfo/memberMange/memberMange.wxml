<view class="data-v-7aae12cd"><uni-nav-bar vue-id="cabd4bce-1" left-icon="back" title="成员管理" data-event-opts="{{[['^clickLeft',[['clickLeft']]]]}}" bind:clickLeft="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-nav-bar><view class="uni-tab-bar data-v-7aae12cd" style="height:100vh;"><scroll-view class="list data-v-7aae12cd" scroll-y="true"><view class="nav data-v-7aae12cd"><view class="nav-left data-v-7aae12cd"><text class="eosfont data-v-7aae12cd"></text></view><view class="nav-center data-v-7aae12cd"><text data-event-opts="{{[['tap',[['navTomember',['$event']]]]]}}" class="{{['data-v-7aae12cd',(currentIndex==0)?'active':'']}}" bindtap="__e">内部成员</text><text data-event-opts="{{[['tap',[['navToapply',['$event']]]]]}}" class="{{['data-v-7aae12cd',(currentIndex==1)?'active':'']}}" bindtap="__e">加入申请</text></view></view><swiper class="swiper-box data-v-7aae12cd" current="{{currentIndex}}" data-event-opts="{{[['change',[['changePage',['$event']]]]]}}" bindchange="__e"><swiper-item class="member data-v-7aae12cd"><view class="swiper-item data-v-7aae12cd"><block wx:for="{{groupMembers}}" wx:for-item="part" wx:for-index="key" wx:key="*this"><block class="data-v-7aae12cd"><view class="uni-list-cell uni-list-cell-pd data-v-7aae12cd"><view class="uni-list-cell-db data-v-7aae12cd"><text class="data-v-7aae12cd">{{key}}</text></view><view data-event-opts="{{[['tap',[['changejoinedPeople',['$event','$0',key],['groupMembers.'+key+'']]]]]}}" class="manageMember data-v-7aae12cd" bindtap="__e"><text class="eosfont data-v-7aae12cd"></text></view></view><view class="partMembers data-v-7aae12cd"><block wx:for="{{groupMembers[key]}}" wx:for-item="partMember" wx:for-index="id" wx:key="id"><block class="data-v-7aae12cd"><view class="partMember data-v-7aae12cd"><kp-avatar vue-id="{{'cabd4bce-2-'+key+'-'+id}}" image="{{partMember.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenManage',['$0',key,id],[[['groupMembers.'+key+'','',id]]]]]]]}}" bind:tap="__e" class="data-v-7aae12cd" bind:__l="__l"></kp-avatar><text class="data-v-7aae12cd">{{partMember.nickName}}</text><text class="data-v-7aae12cd">{{partMember.position}}</text></view></block></block></view></block></block></view><uni-compus-button vue-id="cabd4bce-3" width="100" content="确认修改" background="#fbc531" data-event-opts="{{[['tap',[['submitChangeMember',['$event']]]]]}}" bindtap="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-compus-button><view class="data-v-7aae12cd"><uni-compus-button vue-id="cabd4bce-4" width="100" content="添加部门" background="#3498db" data-event-opts="{{[['tap',[['addDepartment',['$event']]]]]}}" bindtap="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-compus-button></view></swiper-item><swiper-item class="apply data-v-7aae12cd"><view class="swiper-item data-v-7aae12cd"><view class="applicant-list data-v-7aae12cd"><block wx:for="{{applicantList}}" wx:for-item="applicant" wx:for-index="idx" wx:key="idx"><block class="data-v-7aae12cd"><view class="applicant-list-item data-v-7aae12cd"><view class="applicant-list-item-left data-v-7aae12cd"><kp-avatar vue-id="{{'cabd4bce-5-'+idx}}" image="{{applicant.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenCommunity',['$0'],['row']]]]]}}" bind:tap="__e" class="data-v-7aae12cd" bind:__l="__l"></kp-avatar><view class="applicant-list-item-left-info data-v-7aae12cd"><view class="applicant-list-item-left-info-name data-v-7aae12cd"><text class="data-v-7aae12cd">{{applicant.nickName}}</text></view></view></view><view class="applicant-list-item-right data-v-7aae12cd"><view class="applicant-list-item-right-aprove data-v-7aae12cd"><uni-compus-button vue-id="{{'cabd4bce-6-'+idx}}" background="#7ed6df" content="通过" width="100" data-event-opts="{{[['tap',[['approveJoin',['$0',idx],[[['applicantList','',idx]]]]]]]}}" bindtap="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-compus-button></view><text data-event-opts="{{[['tap',[['declineJoin',['$0',idx],[[['applicantList','',idx]]]]]]]}}" class="eosfont data-v-7aae12cd" bindtap="__e"></text></view></view><view class="applicant-reason data-v-7aae12cd"><text class="data-v-7aae12cd">{{applicant.reason}}</text></view></block></block></view></view></swiper-item></swiper></scroll-view></view><uni-popup vue-id="cabd4bce-7" type="bottom" data-ref="popup" class="data-v-7aae12cd vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="choosejoinedPeople data-v-7aae12cd"><view class="uni-tab-bar data-v-7aae12cd"><view class="choosejoinedPeople-title data-v-7aae12cd"><input type="text" data-event-opts="{{[['input',[['__set_model',['','currentAdujstDepatment','$event',[]]]]]]}}" value="{{currentAdujstDepatment}}" bindinput="__e" class="data-v-7aae12cd"/><view class="data-v-7aae12cd"><uni-compus-button vue-id="{{('cabd4bce-8')+','+('cabd4bce-7')}}" width="80" content="确认修改名称" background="#2ecc71" data-event-opts="{{[['tap',[['confirmChangeDeartment',['$event']]]]]}}" bindtap="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-compus-button></view></view><view class="data-v-7aae12cd"><lv-select vue-id="{{('cabd4bce-9')+','+('cabd4bce-7')}}" placeholder="请输入成员名称" infoList="{{infoList}}" showValue="{{showValue}}" loading="{{loading}}" type="primary" uniShadow="{{true}}" value="{{searchValue}}" data-event-opts="{{[['^handleSearch',[['handleSearch']]],['^change',[['change']]],['^input',[['__set_model',['','searchValue','$event',[]]]]]]}}" bind:handleSearch="__e" bind:change="__e" bind:input="__e" class="data-v-7aae12cd" bind:__l="__l"></lv-select></view><view class="joinedPeople-list data-v-7aae12cd"><block wx:for="{{joinedPeopleList}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="joinedPeople-list-item data-v-7aae12cd"><kp-avatar vue-id="{{('cabd4bce-10-'+index)+','+('cabd4bce-7')}}" image="{{row.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenCommunity',['$0'],[[['joinedPeopleList','',index]]]]]]]}}" bind:tap="__e" class="data-v-7aae12cd" bind:__l="__l"></kp-avatar><text class="data-v-7aae12cd">{{row.nickName}}</text><text class="data-v-7aae12cd">{{row.position}}</text><view data-event-opts="{{[['tap',[['removeJoined',[index]]]]]}}" class="close-view data-v-7aae12cd" bindtap="__e">x</view></view></block></view><scroll-view class="list data-v-7aae12cd" style="{{'height:'+(scrollHeight)+';'}}" scroll-y="true"><view class="data-v-7aae12cd"><text class="data-v-7aae12cd">未分配的人</text></view><view class="memberList data-v-7aae12cd"><block wx:for="{{otherPeople}}" wx:for-item="member" wx:for-index="idx" wx:key="idx"><view class="memberList-item data-v-7aae12cd"><view class="memberList-item-left data-v-7aae12cd"><kp-avatar vue-id="{{('cabd4bce-11-'+idx)+','+('cabd4bce-7')}}" image="{{member.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenCommunity',['$0'],['row']]]]]}}" bind:tap="__e" class="data-v-7aae12cd" bind:__l="__l"></kp-avatar><text class="data-v-7aae12cd">{{member.nickName}}</text><text class="data-v-7aae12cd">{{member.position}}</text></view><view data-event-opts="{{[['tap',[['addJoinedMember',[idx,'$0'],[[['otherPeople','',idx]]]]]]]}}" class="memberList-item-right data-v-7aae12cd" bindtap="__e"><text class="eosfont data-v-7aae12cd"></text></view></view></block></view></scroll-view></view></view></block></uni-popup><uni-popup vue-id="cabd4bce-12" type="bottom" data-ref="updateMember" class="data-v-7aae12cd vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="updateMemberInfo data-v-7aae12cd"><view class="updateMemberInfo-left data-v-7aae12cd"><view data-event-opts="{{[['tap',[['updateMemberAuth',['$event']]]]]}}" class="uni-list-cell uni-list-cell-pd data-v-7aae12cd" bindtap="__e"><view class="uni-list-cell-db data-v-7aae12cd" style="font-weight:500;">权限等级</view><text class="data-v-7aae12cd">{{member.auth}}</text></view></view><view class="updateMemberInfo-right data-v-7aae12cd"><view class="uni-list-cell uni-list-cell-pd data-v-7aae12cd"><view class="uni-list-cell-db data-v-7aae12cd" style="font-weight:500;">职位名称</view><input style="text-align:right;" type="text" data-event-opts="{{[['input',[['__set_model',['$0','position','$event',[]],['member']]]]]}}" value="{{member.position}}" bindinput="__e" class="data-v-7aae12cd"/></view></view></view><uni-compus-button vue-id="{{('cabd4bce-13')+','+('cabd4bce-12')}}" width="100" content="确认修改" background="#fbc531" data-event-opts="{{[['tap',[['confirmChangeMemberInfo',['$event']]]]]}}" bindtap="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-compus-button><uni-compus-button vue-id="{{('cabd4bce-14')+','+('cabd4bce-12')}}" width="100" content="移出小组" background="#eb4d4b" data-event-opts="{{[['tap',[['removeFromGroup',['$event']]]]]}}" bindtap="__e" class="data-v-7aae12cd" bind:__l="__l"></uni-compus-button></block></uni-popup><w-picker vue-id="cabd4bce-15" visible="{{visible}}" mode="selector" value="{{member.auth}}" default-type="auth" default-props="{{defaultProps}}" options="{{authList}}" data-ref="selector" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','visible','$event'],['']]]],['^confirm',[['confirmChangeAuth',['$event','selector']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-7aae12cd vue-ref" bind:__l="__l"></w-picker><chun-lei-modal vue-id="cabd4bce-16" mData="{{inputData}}" type="input" navMask="{{true}}" value="{{showAddDepartment}}" data-event-opts="{{[['^onConfirm',[['onConfirmAddDepartment']]],['^input',[['__set_model',['','showAddDepartment','$event',[]]]]]]}}" bind:onConfirm="__e" bind:input="__e" class="data-v-7aae12cd" bind:__l="__l"></chun-lei-modal></view>