<view class="publishActivity data-v-72c570c4"><uni-nav-bar vue-id="0c629b02-1" left-icon="back" title="发布动态" data-event-opts="{{[['^clickLeft',[['clickLeft']]]]}}" bind:clickLeft="__e" class="data-v-72c570c4" bind:__l="__l"></uni-nav-bar><view class="topBar data-v-72c570c4"><block wx:for="{{iconList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block class="data-v-72c570c4"><avatar class="{{['data-v-72c570c4',(tapIndex==index)?'active':'']}}" vue-id="{{'0c629b02-2-'+index}}" imgSrc="{{item.imgSrc}}" name="{{item.content}}" data-event-opts="{{[['tap',[['chooseType',[index]]]]]}}" bindtap="__e" bind:__l="__l"></avatar></block></block></view><view class="main data-v-72c570c4"><view class="uni-list-cell uni-list-cell-pd data-v-72c570c4"><view class="uni-list-cell-db data-v-72c570c4" style="font-weight:500;">是否需要标题</view><switch checked="{{needTitle}}" color="#12CBC4" data-event-opts="{{[['change',[['isTitle',['$event']]]]]}}" bindchange="__e" class="data-v-72c570c4"></switch></view><view hidden="{{!(needTitle)}}" class="publish-title data-v-72c570c4"><input class="uni-input data-v-72c570c4" style="margin:20rpx 0;" type="text" placeholder="标题（选填）" data-event-opts="{{[['input',[['__set_model',['$0','title','$event',[]],['info']]]]]}}" value="{{info.title}}" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['chooseCategory',['$event']]]]]}}" class="uni-list-cell uni-list-cell-pd data-v-72c570c4" bindtap="__e"><view class="uni-list-cell-db data-v-72c570c4" style="font-weight:500;">选择类别吧</view><text class="data-v-72c570c4">{{info.category}}</text></view><view data-event-opts="{{[['tap',[['chooseDeadLine',['$event']]]]]}}" class="uni-list-cell uni-list-cell-pd data-v-72c570c4" bindtap="__e"><view class="uni-list-cell-db data-v-72c570c4" style="font-weight:500;">活动开始时间</view><text class="data-v-72c570c4">{{info.deadline}}</text></view><view class="uni-list-cell uni-list-cell-pd data-v-72c570c4"><view class="uni-list-cell-db data-v-72c570c4" style="font-weight:500;">编辑内容简介</view></view><view class="uni-textarea data-v-72c570c4"><textarea style="height:400rpx;" placeholder="编辑内容简介" data-event-opts="{{[['input',[['__set_model',['$0','description','$event',[]],['info']]]]]}}" value="{{info.description}}" bindinput="__e" class="data-v-72c570c4"></textarea></view><view class="uni-list-cell uni-list-cell-pd data-v-72c570c4"><view class="uni-list-cell-db data-v-72c570c4" style="font-weight:500;">编辑正文内容</view></view><view class="uni-textarea data-v-72c570c4"><textarea style="height:400rpx;" placeholder="编辑正文内容" data-event-opts="{{[['input',[['__set_model',['$0','content','$event',[]],['info']]]]]}}" value="{{info.content}}" bindinput="__e" class="data-v-72c570c4"></textarea></view><block wx:if="{{tapIndex===2||3}}"><view class="uni-list-cell uni-list-cell-pd data-v-72c570c4"><view class="uni-list-cell-db data-v-72c570c4" style="font-weight:500;"><text class="eosfont data-v-72c570c4"></text><text class="data-v-72c570c4">选择发布的团队吧</text></view><switch checked="{{isGroup}}" color="#12CBC4" data-event-opts="{{[['change',[['showGroup',['$event']]]]]}}" bindchange="__e" class="data-v-72c570c4"></switch></view></block><view hidden="{{!(groupId)}}" class="choosedGroup data-v-72c570c4"><view class="choosedGroup-item data-v-72c570c4"><kp-avatar vue-id="0c629b02-3" image="{{userChoosedGroup.logo}}" size="large" mode="aspectFill" class="data-v-72c570c4" bind:__l="__l"></kp-avatar><text class="data-v-72c570c4">{{userChoosedGroup.name}}</text></view></view></view><view class="footer data-v-72c570c4"><view data-event-opts="{{[['tap',[['chooseVideo',['$event']]]]]}}" class="video footer-bar data-v-72c570c4" bindtap="__e"><image src="../../static/publish/video.png" mode class="data-v-72c570c4"></image><text class="data-v-72c570c4">视频</text></view><view data-event-opts="{{[['tap',[['chooseText',['$event']]]]]}}" class="text footer-bar data-v-72c570c4" bindtap="__e"><image src="../../static/index/pencil.png" mode class="data-v-72c570c4"></image><text class="data-v-72c570c4">纯文本</text></view><view data-event-opts="{{[['tap',[['chooseImg',['$event']]]]]}}" class="imgs footer-bar data-v-72c570c4" bindtap="__e"><image src="../../static/publish/picture.png" mode class="data-v-72c570c4"></image><text class="data-v-72c570c4">图片</text></view></view><block wx:if="{{publishImgList.length}}"><view class="showImgBar data-v-72c570c4"><block wx:for="{{publishImgList}}" wx:for-item="img" wx:for-index="imgId" wx:key="imgId"><view class="showImg data-v-72c570c4"><image src="{{img}}" mode class="data-v-72c570c4"></image><uni-badge class="cancelChoose data-v-72c570c4" vue-id="{{'0c629b02-4-'+imgId}}" text="x" type="error" size="small" data-event-opts="{{[['^click',[['cancelChoose',[imgId]]]]]}}" bind:click="__e" bind:__l="__l"></uni-badge></view></block></view></block><block wx:if="{{info.videoSrc}}"><view class="showVideoBar data-v-72c570c4"><video src="{{info.videoSrc}}" controls="{{true}}" class="data-v-72c570c4"></video></view></block><view data-event-opts="{{[['tap',[['sendActivity',['$event']]]]]}}" class="bottomBar data-v-72c570c4" bindtap="__e"><uni-compus-button vue-id="0c629b02-5" background="#FFC312" content="发表" width="100" class="data-v-72c570c4" bind:__l="__l"></uni-compus-button></view><uni-popup vue-id="0c629b02-6" type="bottom" data-ref="CategoryPopup" class="data-v-72c570c4 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="CategoryPopup data-v-72c570c4"><view class="uni-tab-bar data-v-72c570c4"><scroll-view class="list data-v-72c570c4" style="height:500px;" scroll-y="true"><view class="category-list data-v-72c570c4"><block wx:for="{{categoryList}}" wx:for-item="category" wx:for-index="idx" wx:key="idx"><view data-event-opts="{{[['tap',[['finishChooseCategory',['$0'],[[['categoryList','',idx]]]]]]]}}" class="category-list-item data-v-72c570c4" bindtap="__e"><text class="data-v-72c570c4">{{category.category}}</text></view></block></view></scroll-view></view></view></block></uni-popup><uni-popup vue-id="0c629b02-7" type="bottom" data-ref="popup" class="data-v-72c570c4 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="choose-publish-group data-v-72c570c4"><view class="uni-tab-bar data-v-72c570c4"><view class="choose-publish-group-title data-v-72c570c4"><text class="data-v-72c570c4">待选择的社团</text></view><view class="data-v-72c570c4"><lv-select vue-id="{{('0c629b02-8')+','+('0c629b02-7')}}" placeholder="请输入社团名称" infoList="{{infoList}}" showValue="{{showValue}}" loading="{{loading}}" type="primary" uniShadow="{{true}}" value="{{searchValue}}" data-event-opts="{{[['^handleSearch',[['handleSearch']]],['^change',[['change']]],['^input',[['__set_model',['','searchValue','$event',[]]]]]]}}" bind:handleSearch="__e" bind:change="__e" bind:input="__e" class="data-v-72c570c4" bind:__l="__l"></lv-select></view><scroll-view class="list data-v-72c570c4" style="{{'height:'+(scrollHeight+'px')+';'}}" scroll-y="true"><view class="group-list data-v-72c570c4"><block wx:for="{{group.userJoinedGroup}}" wx:for-item="group" wx:for-index="idx" wx:key="idx"><view class="group-list-item data-v-72c570c4"><view class="group-list-item-left data-v-72c570c4"><kp-avatar vue-id="{{('0c629b02-9-'+idx)+','+('0c629b02-7')}}" image="{{group.logo}}" size="large" mode="aspectFill" class="data-v-72c570c4" bind:__l="__l"></kp-avatar><text class="data-v-72c570c4">{{group.name}}</text></view><view data-event-opts="{{[['tap',[['chooseGroup',['$0','$1'],[[['group.userJoinedGroup','',idx,'id']],[['group.userJoinedGroup','',idx]]]]]]]}}" class="group-list-item-right data-v-72c570c4" bindtap="__e"><text class="eosfont data-v-72c570c4"></text></view></view></block></view></scroll-view></view></view></block></uni-popup><chun-lei-modal bind:input="__e" vue-id="0c629b02-10" type="default" mData="{{errData}}" navMask="{{true}}" value="{{showErr}}" data-event-opts="{{[['^input',[['__set_model',['','showErr','$event',[]]]]]]}}" class="data-v-72c570c4" bind:__l="__l"></chun-lei-modal><w-picker vue-id="0c629b02-11" mode="shortTerm" value="2020-04-08 13:18:00" current="{{true}}" expand="60" data-ref="shortTerm" data-event-opts="{{[['^confirm',[['onConfirmDeadLine',['$event','shortTerm']]]]]}}" bind:confirm="__e" class="data-v-72c570c4 vue-ref" bind:__l="__l"></w-picker></view>