<view class="data-v-465a1744"><uni-nav-bar vue-id="b7cdf6fc-1" left-icon="back" title="成员管理" data-event-opts="{{[['^clickLeft',[['clickLeft']]]]}}" bind:clickLeft="__e" class="data-v-465a1744" bind:__l="__l"></uni-nav-bar><view class="uni-tab-bar data-v-465a1744" style="height:100vh;"><scroll-view class="list data-v-465a1744" scroll-y="true"><view class="nav data-v-465a1744"><view class="nav-left data-v-465a1744"><text class="eosfont data-v-465a1744"></text></view><view class="nav-center data-v-465a1744"><text data-event-opts="{{[['tap',[['navTomember',['$event']]]]]}}" class="{{['data-v-465a1744',(currentIndex==0)?'active':'']}}" bindtap="__e">内部成员</text><text data-event-opts="{{[['tap',[['navToapply',['$event']]]]]}}" class="{{['data-v-465a1744',(currentIndex==1)?'active':'']}}" bindtap="__e">加群申请</text></view></view><swiper class="swiper-box data-v-465a1744" current="{{currentIndex}}" data-event-opts="{{[['change',[['changePage',['$event']]]]]}}" bindchange="__e"><swiper-item class="member data-v-465a1744"><view class="swiper-item data-v-465a1744"><block wx:for="{{groupMembers}}" wx:for-item="part" wx:for-index="key" wx:key="*this"><block class="data-v-465a1744"><view class="uni-list-cell uni-list-cell-pd data-v-465a1744"><view class="uni-list-cell-db data-v-465a1744"><input type="text" data-event-opts="{{[['input',[['__set_model',['','key','$event',[]]],['changeDepartment',['$event']]]],['blur',[['confirmChangeDeartment',['$event']]]],['tap',[['getOldKey',[key]]]]]}}" value="{{key}}" bindinput="__e" bindblur="__e" bindtap="__e" class="data-v-465a1744"/></view><view data-event-opts="{{[['tap',[['changejoinedPeople',['$event','$0',key],['groupMembers.'+key+'']]]]]}}" class="manageMember data-v-465a1744" bindtap="__e"><text class="eosfont data-v-465a1744"></text></view></view><view class="partMembers data-v-465a1744"><block wx:for="{{groupMembers[key]}}" wx:for-item="partMember" wx:for-index="id" wx:key="id"><block class="data-v-465a1744"><view class="partMember data-v-465a1744"><kp-avatar vue-id="{{'b7cdf6fc-2-'+key+'-'+id}}" image="{{partMember.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenManage',['$0',key,id],[[['groupMembers.'+key+'','',id]]]]]]]}}" bind:tap="__e" class="data-v-465a1744" bind:__l="__l"></kp-avatar><text class="data-v-465a1744">{{partMember.nickName}}</text><text class="data-v-465a1744">{{partMember.position}}</text></view></block></block></view></block></block></view><uni-compus-button vue-id="b7cdf6fc-3" width="100" content="确认修改" background="#fbc531" data-event-opts="{{[['tap',[['submitChangeMember',['$event']]]]]}}" bindtap="__e" class="data-v-465a1744" bind:__l="__l"></uni-compus-button></swiper-item><swiper-item class="apply data-v-465a1744"><view class="swiper-item data-v-465a1744"><view class="applicant-list data-v-465a1744"><block wx:for="{{applicantList}}" wx:for-item="applicant" wx:for-index="idx" wx:key="idx"><block class="data-v-465a1744"><view class="applicant-list-item data-v-465a1744"><view class="applicant-list-item-left data-v-465a1744"><kp-avatar vue-id="{{'b7cdf6fc-4-'+idx}}" image="{{applicant.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenCommunity',['$0'],['row']]]]]}}" bind:tap="__e" class="data-v-465a1744" bind:__l="__l"></kp-avatar><view class="applicant-list-item-left-info data-v-465a1744"><view class="applicant-list-item-left-info-name data-v-465a1744"><text class="data-v-465a1744">{{applicant.nickname}}</text></view></view></view><view class="applicant-list-item-right data-v-465a1744"><view class="applicant-list-item-right-aprove data-v-465a1744"><uni-compus-button vue-id="{{'b7cdf6fc-5-'+idx}}" background="#7ed6df" content="通过" width="100" data-event-opts="{{[['tap',[['approveJoin',['$event']]]]]}}" bindtap="__e" class="data-v-465a1744" bind:__l="__l"></uni-compus-button></view><text data-event-opts="{{[['tap',[['declineJoin',['$event']]]]]}}" class="eosfont data-v-465a1744" bindtap="__e"></text></view></view><view class="applicant-reason data-v-465a1744"><text class="data-v-465a1744">{{applicant.reason}}</text></view></block></block></view></view></swiper-item></swiper></scroll-view></view><uni-popup vue-id="b7cdf6fc-6" type="bottom" data-ref="popup" class="data-v-465a1744 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="choosejoinedPeople data-v-465a1744"><view class="uni-tab-bar data-v-465a1744"><view class="choosejoinedPeople-title data-v-465a1744"><text class="data-v-465a1744">成员调整</text></view><view class="data-v-465a1744"><lv-select vue-id="{{('b7cdf6fc-7')+','+('b7cdf6fc-6')}}" placeholder="请输入成员名称" infoList="{{infoList}}" showValue="{{showValue}}" loading="{{loading}}" type="primary" uniShadow="{{true}}" value="{{searchValue}}" data-event-opts="{{[['^handleSearch',[['handleSearch']]],['^change',[['change']]],['^input',[['__set_model',['','searchValue','$event',[]]]]]]}}" bind:handleSearch="__e" bind:change="__e" bind:input="__e" class="data-v-465a1744" bind:__l="__l"></lv-select></view><view class="joinedPeople-list data-v-465a1744"><block wx:for="{{joinedPeopleList}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="joinedPeople-list-item data-v-465a1744"><kp-avatar vue-id="{{('b7cdf6fc-8-'+index)+','+('b7cdf6fc-6')}}" image="{{row.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenCommunity',['$0'],[[['joinedPeopleList','',index]]]]]]]}}" bind:tap="__e" class="data-v-465a1744" bind:__l="__l"></kp-avatar><text class="data-v-465a1744">{{row.nickName}}</text><text class="data-v-465a1744">{{row.position}}</text><view data-event-opts="{{[['tap',[['removeJoined',[index]]]]]}}" class="close-view data-v-465a1744" bindtap="__e">x</view></view></block></view><scroll-view class="list data-v-465a1744" style="{{'height:'+(scrollHeight)+';'}}" scroll-y="true"><view class="data-v-465a1744"><text class="data-v-465a1744">未分配的人</text></view><view class="memberList data-v-465a1744"><block wx:for="{{otherPeople}}" wx:for-item="member" wx:for-index="idx" wx:key="idx"><view class="memberList-item data-v-465a1744"><view class="memberList-item-left data-v-465a1744"><kp-avatar vue-id="{{('b7cdf6fc-9-'+idx)+','+('b7cdf6fc-6')}}" image="{{member.avatar}}" size="large" mode="aspectFill" data-event-opts="{{[['^tap',[['handleOpenCommunity',['$0'],['row']]]]]}}" bind:tap="__e" class="data-v-465a1744" bind:__l="__l"></kp-avatar><text class="data-v-465a1744">{{member.nickName}}</text><text class="data-v-465a1744">{{member.position}}</text></view><view data-event-opts="{{[['tap',[['addJoinedMember',[idx,'$0'],[[['otherPeople','',idx]]]]]]]}}" class="memberList-item-right data-v-465a1744" bindtap="__e"><text class="eosfont data-v-465a1744"></text></view></view></block></view></scroll-view></view></view></block></uni-popup><uni-popup vue-id="b7cdf6fc-10" type="bottom" data-ref="updateMember" class="data-v-465a1744 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="updateMemberInfo data-v-465a1744"><view class="updateMemberInfo-left data-v-465a1744"><view data-event-opts="{{[['tap',[['updateMemberAuth',['$event']]]]]}}" class="uni-list-cell uni-list-cell-pd data-v-465a1744" bindtap="__e"><view class="uni-list-cell-db data-v-465a1744" style="font-weight:500;">权限等级</view><text class="data-v-465a1744">{{member.auth}}</text></view></view><view class="updateMemberInfo-right data-v-465a1744"><view class="uni-list-cell uni-list-cell-pd data-v-465a1744"><view class="uni-list-cell-db data-v-465a1744" style="font-weight:500;">职位名称</view><input style="text-align:right;" type="text" data-event-opts="{{[['input',[['__set_model',['$0','position','$event',[]],['member']]]]]}}" value="{{member.position}}" bindinput="__e" class="data-v-465a1744"/></view></view></view><uni-compus-button vue-id="{{('b7cdf6fc-11')+','+('b7cdf6fc-10')}}" width="100" content="确认修改" background="#fbc531" data-event-opts="{{[['tap',[['confirmChangeMemberInfo',['$event']]]]]}}" bindtap="__e" class="data-v-465a1744" bind:__l="__l"></uni-compus-button><uni-compus-button vue-id="{{('b7cdf6fc-12')+','+('b7cdf6fc-10')}}" width="100" content="移出小组" background="#eb4d4b" data-event-opts="{{[['tap',[['removeFromGroup',['$event']]]]]}}" bindtap="__e" class="data-v-465a1744" bind:__l="__l"></uni-compus-button></block></uni-popup><w-picker vue-id="b7cdf6fc-13" visible="{{visible}}" mode="selector" value="{{member.auth}}" default-type="auth" default-props="{{defaultProps}}" options="{{authList}}" data-ref="selector" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','visible','$event'],['']]]],['^confirm',[['confirmChangeAuth',['$event','selector']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-465a1744 vue-ref" bind:__l="__l"></w-picker></view>