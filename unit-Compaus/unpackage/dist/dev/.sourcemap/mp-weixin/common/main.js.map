{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/App.vue?3032","webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/App.vue?05bd",null,"webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/App.vue?32d8","uni-app:///App.vue"],"names":["Vue","config","productionTip","component","uniNavBar","chunLeiModal","uniCompusButton","MescrollBody","MescrollUni","lvSelect","prototype","$store","store","checkLogin","backpage","backtype","SUID","uni","getStorageSync","SRAND","SNAME","SAVATAR","App","mpType","app","$mount"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store'\r\n\r\n\r\n\r\nimport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue'\r\nimport chunLeiModal from '@/components/chunLei-modal/chunLei-modal.vue'\r\nimport TabMask from '@/components/chunLei-modal/tabMask'\r\nimport uniCompusButton from '@/components/uni-compus-components/unicompus-button.vue'\r\nimport MescrollBody from \"@/components/mescroll-uni/mescroll-body.vue\"\r\nimport MescrollUni from \"@/components/mescroll-uni/mescroll-uni.vue\"\r\nimport lvSelect from '@/components/lv-select/lv-select.vue';\r\n\r\nVue.config.productionTip = false\r\nVue.component('uniNavBar', uniNavBar);\r\nVue.component('chunLei-modal',chunLeiModal);\r\nVue.component('uniCompusButton',uniCompusButton);\r\nVue.component('mescroll-body', MescrollBody)\r\nVue.component('mescroll-uni', MescrollUni)\r\nVue.component('lv-select',lvSelect)\r\n\r\n//把vuex定义成全局组件\r\nVue.prototype.$store = store\r\n\r\n\r\n// Array.prototype.find = function (element,dataStore){\r\n//     for( var i = 0 ; i < this.dataStore.length ; i ++ ){\r\n//             if( this.dataStore[i] == element ){\r\n//                 return i;\r\n//             }\r\n//         }\r\n//     return -1;\r\n// }\r\n\r\nVue.prototype.checkLogin = function(backpage, backtype) {\r\n\tvar SUID = uni.getStorageSync('SUID'); //本地持久化存储\r\n\tvar SRAND = uni.getStorageSync('SRAND');\r\n\tvar SNAME = uni.getStorageSync('SNAME');\r\n\tvar SAVATAR = uni.getStorageSync('SFACE');\r\n\tif (SUID == '' || SRAND == '' || SAVATAR == '') {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\treturn [SUID, SRAND, SNAME, SAVATAR]; //已经登录返回数组 [用户 id, 用户随机码, 用户昵称, 用户表情]，以供后续使用用户信息\r\n}\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n\t...App,\r\n\tstore\r\n})\r\napp.$mount()","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592021464896\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\nimport Vue from 'vue';\r\nimport { _encode } from '@/utils/util.js';\r\nimport { mapMutations, mapState } from 'vuex';\r\nimport store from '@/store/index.js'\r\n\r\nconst util = require('util');\r\n\r\n\r\n\r\nexport default {\r\n\tonLaunch: function(option) {\r\n\t\t\r\n\t\tlet host = 'http://localhost';\r\n\t\tlet port = '3000';\r\n\t\t\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess: function(e) {\r\n\t\t\t\tVue.prototype.statusBar = e.statusBarHeight;\r\n\t\t\t\t\r\n\t\t\t\t// #ifndef MP\r\n\t\t\t\tif (e.platform == 'android') {\r\n\t\t\t\t\tVue.prototype.customBar = e.statusBarHeight + 50;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tVue.prototype.customBar = e.statusBarHeight + 45;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tlet custom = wx.getMenuButtonBoundingClientRect();\r\n\t\t\t\tconsole.log(custom);\r\n\t\t\t\tVue.prototype.customBar = custom.bottom + custom.top - e.statusBarHeight;\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\tVue.prototype.customBar = e.statusBarHeight + e.titleBarHeight;\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//检验是否登录\r\n\t\tuni.getStorage({\r\n\t\t\tkey: 'userInfo',\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tlet result = JSON.parse(res.data);\r\n\r\n\t\t\t\t// 此处仅做演示\r\n\t\t\t\t// 跟后台校验token的有效性，判定是否在登录状态。如果token失效，需重新登录。app端不强制用户登录，可以游客身份登录，可以进一步优化流程\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: util.format('%s:%s/v1/user/verify', host, port), // 验证token有效性的api\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\ttoken:result.token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tsuccess: response => {\r\n\t\t\t\t\t\tconsole.log( response);\r\n\t\t\t\t\t\tif (response.data.is_valid) {\r\n\t\t\t\t\t\t\tthis.storeLogin({hasLogin:true,token:result.token,uid:result.uid});\r\n\t\t\t\t\t\t} else {  // 验证无效清除用户原有缓存数据\r\n\t\t\t\t\t\t\tthis.storeLogout()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// this.storeLogin(JSON.parse(res.data));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//封装uni.request\r\n\t\tVue.prototype.request = function(route, data, method) {\r\n\t\t\tconsole.log(data)\r\n\t\t\tlet token = JSON.parse(uni.getStorageSync('userInfo')).token\r\n\t\t\t\r\n\t\t\tlet basic_token = _encode(token)\r\n\t\t\tlet result = uni.request({\r\n\t\t\t\turl: 'http://localhost:3000/' + route,\r\n\t\t\t\tmethod: method || 'GET',\r\n\t\t\t\tdata: data,\r\n\t\t\t\theader:{\r\n\t\t\t\t\tAuthorization:basic_token\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\tVue.prototype.uploadFile = function(route,file,formData){\r\n\t\t\tlet token = JSON.parse(uni.getStorageSync('userInfo')).token\r\n\t\t\tlet basic_token = _encode(token)\r\n\t\t\tlet result = uni.uploadFile({\r\n\t\t\t\turl:\"http://localhost:3000/\" + route,\r\n\t\t\t\tfilePath:file,\r\n\t\t\t\tname:\"file\",\r\n\t\t\t\tformData:formData,\r\n\t\t\t\theader:{\r\n\t\t\t\t\tAuthorization:basic_token\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn result\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t},\r\n\tonShow: function() {\r\n\t\t\r\n\t\tlet adShowTime = 10 * 60 * 1000; // 10分钟（单位毫秒）\r\n\t\tlet nowTime = new Date().getTime();\r\n\t\tlet leaveTime = this.$store.state.leaveTime;\r\n\t\tif (nowTime - leaveTime > adShowTime) {\r\n\t\t\t\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/account/ad'\r\n\t\t\t\t});\r\n\t\t\t}, 10);\r\n\t\t}\r\n\r\n\t},\r\n\tonHide: function() {\r\n\t\tconsole.log('App Hide');\r\n\t\tthis.$store.commit('STORE_LEAVE_TIME');\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations(['storeLogin', 'storeLogout']),\r\n\r\n\r\n\t},\r\n\tglobalData: {\r\n\t\tdenglu: 0,\r\n\t\talreadyInDetail: false\r\n\t},\r\n\tcomputed: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import './common/css/uni.css';\r\n@import './styles/animate.less';\r\n@import './styles/reset.less';\r\n@import url('./common/css/iconfont.css');\r\n</style>\n"],"sourceRoot":""}