{"version":3,"sources":["webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/components/unicorn-page-video-slide/unicorn-page-video-slide.vue?77d9","webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/components/unicorn-page-video-slide/unicorn-page-video-slide.vue?d879","webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/components/unicorn-page-video-slide/unicorn-page-video-slide.vue?4f14","webpack:///C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/components/unicorn-page-video-slide/unicorn-page-video-slide.vue?5f3e","uni-app:///components/unicorn-page-video-slide/unicorn-page-video-slide.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AAC4E;AACL;;;AAGvE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8FAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAknB,CAAgB,4oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCtoB,gF;AACA;AACA,MADA,kBACA;AACA;AACA,sCADA;AAEA,0BAFA;AAGA,2BAHA;AAIA,4BAJA;AAKA,gCALA;AAMA,0BANA;;AAQA,GAVA;AAWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KANA,EAMA,IANA;;AAQA;AACA;AACA,KAFA,EAEA,GAFA;;AAIA,GA9BA;AA+BA;AACA;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA,EAQA,GARA;AASA,KAzBA;AA0BA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnDA;AAoDA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArEA;AAsEA;AACA;AACA,KAxEA;AAyEA;AACA;AACA,KA3EA,EA/BA,E","file":"components/unicorn-page-video-slide/unicorn-page-video-slide.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./unicorn-page-video-slide.vue?vue&type=template&id=18dc3e84&\"\nvar renderjs\nimport script from \"./unicorn-page-video-slide.vue?vue&type=script&lang=js&\"\nexport * from \"./unicorn-page-video-slide.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/DELL/Desktop/winterHoliady_pratise/uni-compus/unit-Compaus/components/unicorn-page-video-slide/unicorn-page-video-slide.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./unicorn-page-video-slide.vue?vue&type=template&id=18dc3e84&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./unicorn-page-video-slide.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./unicorn-page-video-slide.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view v-for=\"(item, index) in videoList\" :key=\"index\" class=\"videoIndexFlag\">\r\n\t\t\t<video :src=\"item.src\" :id=\"'myVideo' + index\" :muted=\"nowVideoMutedStatus\" :show-center-play-btn=\"false\"\r\n\t\t\t :show-play-btn=\"false\" :show-fullscreen-btn=\"false\" :show-mute-btn=\"true\" style=\"width: 100%;\"></video>\r\n\t\t\t<view class=\"cu-list menu-avatar\">\r\n\t\t\t\t<view class=\"cu-item v-high\">\r\n\t\t\t\t\t<view class=\"cu-avatar round lg unicorn-primary-border\" style=\"z-index: 2;background-color:#ffffff\">\r\n\t\t\t\t\t\t<image mode=\"aspectFit\" src=\"/static/unicorn-page-video-slide/user.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"z-index: 2;\" class=\"content flex-sub\">\r\n\t\t\t\t\t\t<view class=\"video-title unicorn-title\">\r\n\t\t\t\t\t\t\t<text class=\"video-title title-cut\">{{item.title}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-gray text-sm\">\r\n\t\t\t\t\t\t\t<span class=\"margin-lr-xs\">{{item.auth}}</span><span>・</span>\r\n\t\t\t\t\t\t\t<span class=\"margin-lr-xs\">播放次数{{item.playNum}}万次</span><span>・</span>\r\n\t\t\t\t\t\t\t<span class=\"margin-lr-xs\">观看次数{{item.dayNum}}天前</span>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t<view style=\"width: 100%;margin-top: 200rpx;text-align: center;padding: 0 10px;\">\r\n\t\t\t<view>温馨提示</view>\r\n\t\t\t<view>当前仅支持微信小程序，其他平台敬请期待，谢谢！</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst unicornJson = require('./unicorn-page-video-slide.js');\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvideoList: unicornJson.videoList,\r\n\t\t\t\tvideoContextList: [],\r\n\t\t\t\tvideoLocationInfo: [],\r\n\t\t\t\tscrollTopTimeOut: null,\r\n\t\t\t\tnowVideoMutedStatus: false,\r\n\t\t\t\tnowPlayVideoIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReady: function() {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tthis.videoContextList = [];\r\n\t\t\tfor (let i = 0; i < this.videoList.length; i++) {\r\n\t\t\t\tthis.videoContextList.push(uni.createVideoContext('myVideo' + i, this));\r\n\t\t\t}\r\n\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\tquery.selectAll('.videoIndexFlag').boundingClientRect(data => {\r\n\t\t\t\tlet videoLocationInfo = [];\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tvideoLocationInfo[i] = data[i].top;\r\n\t\t\t\t}\r\n\t\t\t\tthis.videoLocationInfo = this.reCalcIndexArray(this.videoLocationInfo, videoLocationInfo);\r\n\t\t\t}).exec();\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.play(this.nowPlayVideoIndex);\r\n\t\t\t}, 200)\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 由于当前页面是通过组件开发，unicorn-ext页面引用\r\n\t\t\t * 组件中没有onPageScroll事件，所以通过unicorn-ext页面的onPageScroll事件调用当前组件的onPageScrollUnicorn方法\r\n\t\t\t * 达到我们的目的\r\n\t\t\t * \r\n\t\t\t * 实际开发中，可以直接定义onPageScroll事件，稍微修改使用\r\n\t\t\t * \r\n\t\t\t * @param {Object} _this\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tonPageScrollUnicorn: function(_this, e) {\r\n\t\t\t\t_this.nowVideoMutedStatus = true;\r\n\t\t\t\tif (_this.scrollTopTimeOut != null) {\r\n\t\t\t\t\tclearTimeout(_this.scrollTopTimeOut);\r\n\t\t\t\t}\r\n\t\t\t\t_this.scrollTopTimeOut = setTimeout(() => {\r\n\t\t\t\t\t// 滑动停止的代码，此处半秒内位置不变即为滑动停止\r\n\t\t\t\t\tlet nowPlayVideoIndex = _this.getIndexByArray(_this.videoLocationInfo, e.scrollTop + 100)\r\n\t\t\t\t\t//console.log(`nowPlayVideoIndex：${nowPlayVideoIndex}\\nscrollTop：${scrollTop}`);\r\n\t\t\t\t\t_this.pause(_this.nowPlayVideoIndex);\r\n\t\t\t\t\t_this.nowPlayVideoIndex = nowPlayVideoIndex;\r\n\t\t\t\t\t_this.play(_this.nowPlayVideoIndex);\r\n\t\t\t\t\t_this.nowVideoMutedStatus = false;\r\n\t\t\t\t}, 500);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 重新计算Index数组信息\r\n\t\t\t * \r\n\t\t\t * @param {Object} oldArray\r\n\t\t\t * @param {Object} newArray\r\n\t\t\t */\r\n\t\t\treCalcIndexArray: function(oldArray, newArray) {\r\n\t\t\t\tif (oldArray == undefined || oldArray.length == 0) {\r\n\t\t\t\t\t//兼容第一次刷新oldArray为空的情况\r\n\t\t\t\t\tif (newArray != undefined && newArray.length > 0) {\r\n\t\t\t\t\t\treturn newArray;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t\tif (newArray == undefined || newArray.length == 0) {\r\n\t\t\t\t\treturn oldArray;\r\n\t\t\t\t}\r\n\t\t\t\tlet diff = oldArray[0] - newArray[0];\r\n\t\t\t\tnewArray.splice(0, oldArray.length);\r\n\t\t\t\tfor (var i = 0; i < newArray.length; i++) {\r\n\t\t\t\t\tnewArray[i] = newArray[i] + diff;\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(\"oldArray: \" + JSON.stringify(oldArray));\r\n\t\t\t\t//console.log(\"newArray: \" + JSON.stringify(newArray));\r\n\t\t\t\treturn oldArray.concat(newArray);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 查找value在arr里面的临近值\r\n\t\t\t * @param {Object} arr\r\n\t\t\t * @param {Object} value\r\n\t\t\t */\r\n\t\t\tgetIndexByArray: function(arr, value) {\r\n\t\t\t\t//console.log(arr);\r\n\t\t\t\tif (!arr instanceof Array) {\r\n\t\t\t\t\t//console.error(\"error1\");\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\t//console.error(\"error2\");\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tlet value1 = Number.parseInt(value);\r\n\t\t\t\treturn arr.findIndex(e => e - value1 > 0);\r\n\t\t\t},\r\n\t\t\tpause: function(index) {\r\n\t\t\t\tthis.videoContextList[index].pause();\r\n\t\t\t},\r\n\t\t\tplay: function(index) {\r\n\t\t\t\tthis.videoContextList[index].play();\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}